// Generated by CoffeeScript 1.4.0
var plex;

plex = {
  supportedAdaptors: 'socket.io',
  start: function(opts) {
    var server;
    if (opts == null) {
      opts = {};
    }
    if (!opts.mode) {
      throw "plex requires mode: 'root|proxy|leaf'";
    }
    if (!(opts.listen && opts.listen.adaptor)) {
      throw "plex requires listen.adaptor: '" + plex.supportedAdaptors + "'";
    }
    if (opts.listen.adaptor === 'socket.io') {
      if (opts.mode === 'root' || opts.mode === 'proxy') {
        if (!opts.listen.port) {
          throw 'plex root|proxy with socket.io requires opts.listen.port';
        }
      }
    }
    server = require("./" + opts.mode);
    return server.start(opts);
  }
};

module.exports = plex;
